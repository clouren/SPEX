        -:    0:Source:SPEX_initialize_expert.c
        -:    0:Graph:SPEX_initialize_expert.gcno
        -:    0:Data:SPEX_initialize_expert.gcda
        -:    0:Runs:9
        -:    1://------------------------------------------------------------------------------
        -:    2:// SPEX_Util/SPEX_initialize_expert: intialize SPEX memory functions for GMP
        -:    3://------------------------------------------------------------------------------
        -:    4:
        -:    5:// SPEX_Util: (c) 2019-2021, Chris Lourenco (US Naval Academy), Jinhao Chen,
        -:    6:// Erick Moreno-Centeno, Timothy A. Davis, Texas A&M.  All Rights Reserved.
        -:    7:// SPDX-License-Identifier: GPL-2.0-or-later or LGPL-3.0-or-later
        -:    8:
        -:    9://------------------------------------------------------------------------------
        -:   10:
        -:   11:// SPEX_initialize_expert initializes the working environment for SPEX with
        -:   12:// custom memory functions that are used for SPEX and GMP.
        -:   13:
        -:   14:// The four inputs to this function are pointers to four functions with the
        -:   15:// same signatures as the ANSI C malloc, calloc, realloc, and free functions.
        -:   16:// That is:
        -:   17:
        -:   18://     #include <stdlib.h>
        -:   19://     void *malloc (size_t size) ;
        -:   20://     void *calloc (size_t nmemb, size_t size) ;
        -:   21://     void *realloc (void *ptr, size_t size) ;
        -:   22://     void free (void *ptr) ;
        -:   23:
        -:   24:#include "spex_util_internal.h"
        -:   25:
    22118:   26:SPEX_info SPEX_initialize_expert
        -:   27:(
        -:   28:    void* (*MyMalloc) (size_t),             // user-defined malloc
        -:   29:    void* (*MyCalloc) (size_t, size_t),     // user-defined calloc
        -:   30:    void* (*MyRealloc) (void *, size_t),    // user-defined realloc
        -:   31:    void  (*MyFree) (void *)                // user-defined free
        -:   32:)
        -:   33:{
        -:   34:
   22118*:   35:    if (spex_initialized ( )) return (SPEX_PANIC) ;
        -:   36:
        -:   37:    //--------------------------------------------------------------------------
        -:   38:    // define the malloc/calloc/realloc/free functions 
        -:   39:    //--------------------------------------------------------------------------
        -:   40:
    22118:   41:    SuiteSparse_config.malloc_func  = MyMalloc ;
    22118:   42:    SuiteSparse_config.calloc_func  = MyCalloc ;
    22118:   43:    SuiteSparse_config.realloc_func = MyRealloc ;
    22118:   44:    SuiteSparse_config.free_func    = MyFree ;
        -:   45:
        -:   46:    //--------------------------------------------------------------------------
        -:   47:    // Set GMP memory functions
        -:   48:    //--------------------------------------------------------------------------
        -:   49:
    22118:   50:    return (SPEX_initialize ( )) ;
        -:   51:}
        -:   52:
